
<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Aplikacja wielowarstwowa</title>
    <style>
      .wysrodkuj {
        display: flex;
        flex-direction: row;
        justify-content: center;
      }
      .buttons {
        display: flex;
        flex-direction: row;
        justify-content: center;
      }
      button {
        margin: 5px;
        font-size: large;
        font-family:Verdana, Geneva, Tahoma, sans-serif;
      }
      table, th, td {
        border: 1px solid black;
        padding: 3px;
        border-collapse: collapse;
      }
      .srodek {
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      body {
        font-family: Verdana, Geneva, Tahoma, sans-serif;
        min-height: 100vh;
      }
    </style>
  </head>
  <body>
    <template id="wiersz_pacjenci">
      <tr>
        <td><span></span></td>
        <td><span></span></td>
        <td><span></span></td>
      </tr>
    </template>
    <header>
      <h1 class="wysrodkuj">Aplikacja wielowarstwowa</h1>
    </header>
    <main>
      <section id="menu_glowne">
        <div class="buttons">
          <button id="btn_pacjenci" type="button">PACJENCI</button> 
          <button id="btn_zabiegi" type="button">ZABIEGI</button>
          <button id="btn_kalendarz" type="button">KALENDARZ</button>
        </div>
      </section>

      <section  id="pacjenci" hidden>
        <div class="srodek">
          <h2 class="wysrodkuj">REJESTR PACJENTÓW</h2>
          <table>
            <thead>
              <tr>
              <th>Imie</th>
              <th>Nazwisko</th>
              <th>Nr tel.</th>
            </tr>
            </thead>
            <tbody>
              
            </tbody>
          </table>
      </div>
      </section>

      <section id="zabiegi" hidden>
        <h2>REJESTR ZABIEGÓW</h2>
      </section>

      <section id="kalendarz" hidden>
        <h2>KALENDARZ ZABIEGÓW</h2>
      </section>

      <section id="szczegoly" hidden>
        <div style="">
          <h2 class="wysrodkuj">Szczegóły</h2>
          <div>Imię</div>
          <input id="szczegoly_imie" type="text">
          <div>Nazwisko</div>
          <input id="szczegoly_nazwisko" type="text">
          <div>Telefon</div>
          <input id="szczegoly_telefon" type="text">
          <div>
            <button id="btn_zapisz_pacjenci" type="button">Zapisz</button>
            <button id="btn_usun_pacjenci" type="button">Usuń</button>
            <button id="btn_powrot_pacjenci" type="button">Powrót</button>
          </div>
        </div>
      </section>
    </main>
    <footer class="wysrodkuj">
      <h3>Autorzy</h3>
      <ul>
        <li>
          <h5>Magdalena Goszkowska</h5>
        </li>
        <li>
          <h5>Aleksandra Olejarz</h5>
        </li>
      </ul>
    </footer>
    <script>
      let aktualnyPacjent = null;
      window.addEventListener("load", () => 
      { 
        const button_pacjenci=document.querySelector("#btn_pacjenci");
        button_pacjenci.addEventListener("click",()=>{
          const pierwsza_sekcja=document.querySelector("#menu_glowne");
          pierwsza_sekcja.hidden=true;
          const druga_sekcja=document.querySelector("#pacjenci");
          druga_sekcja.hidden=false;
          wypelnijListePacjentow();
        });
        const button_zabiegi=document.querySelector("#btn_zabiegi");
        button_zabiegi.addEventListener("click",()=>{
          const pierwsza_sekcja=document.querySelector("#menu_glowne");
          pierwsza_sekcja.hidden=true;
          const trzecia_sekcja=document.querySelector("#zabiegi");
          trzecia_sekcja.hidden=false;
        });
        const button_kalendarz=document.querySelector("#btn_kalendarz");
        button_kalendarz.addEventListener("click",()=>{
          const pierwsza_sekcja=document.querySelector("#menu_glowne");
          pierwsza_sekcja.hidden=true;
          const czwarta_sekcja=document.querySelector("#kalendarz");
          czwarta_sekcja.hidden=false;
        });
        // const wiersz1=document.querySelector("#wiersz1");
        // wiersz1.addEventListener("click",()=>{
        //   const druga_sekcja=document.querySelector("#pacjenci");
        //   druga_sekcja.hidden=true;
        //   const piata_sekcja=document.querySelector("#szczegoly");
        //   piata_sekcja.hidden=false;
        //   document.querySelector("#szczegoly_imie").value="Wojciech";
        //   document.querySelector("#szczegoly_nazwisko").value="Olejarz";
        //   document.querySelector("#szczegoly_telefon").value="23232323";
        // });
        // const wiersz2=document.querySelector("#wiersz2");
        // wiersz2.addEventListener("click",()=>{
        //   const druga_sekcja=document.querySelector("#pacjenci");
        //   druga_sekcja.hidden=true;
        //   const piata_sekcja=document.querySelector("#szczegoly");
        //   piata_sekcja.hidden=false;
        //   document.querySelector("#szczegoly_imie").value="Magdalena";
        //   document.querySelector("#szczegoly_nazwisko").value="Goszkowska";
        //   document.querySelector("#szczegoly_telefon").value="3343434";
        // });
        document.querySelector("#btn_zapisz_pacjenci").addEventListener("click",()=>{
          alert("Zapisano");
        });
        document.querySelector("#btn_usun_pacjenci").addEventListener("click",()=>{
            danePacjentow=danePacjentow.filter(pacjent=>pacjent.id!=aktualnyPacjent.id);
            wypelnijListePacjentow();
            document.querySelector("#pacjenci").hidden=false;
            document.querySelector("#szczegoly").hidden=true;
        });
        document.querySelector("#btn_powrot_pacjenci").addEventListener("click",()=>{
          document.querySelector("#pacjenci").hidden=false;
          document.querySelector("#szczegoly").hidden=true;
        });
        
        // znajdz button zabiegi i podłącz program przełącający na panel zabiegi
        // znajdz button pacjenci i podlacz program przełacsaaj na panel pacjenci 
        // ... kalendrz
      })

      function wypelnijListePacjentow() {
        const tabelaPacjentow = document.querySelector("#pacjenci tbody");
        tabelaPacjentow.innerHTML = "";
        const templateWiersz = document.querySelector("#wiersz_pacjenci").content;
        danePacjentow.forEach(pacjent => {
            const templateTR = templateWiersz.querySelector("tr");
            const wiersz = templateWiersz.cloneNode(true);
            const komorki = wiersz.querySelectorAll("td span");
            komorki[0].textContent = pacjent.Imie;
            komorki[1].textContent = pacjent.Nazwisko;
            komorki[2].textContent = pacjent.Tel;
            wiersz.querySelector("tr").addEventListener("click", ev => {
              wyswietlSzczegolyPacjenta(pacjent)
            })
            tabelaPacjentow.appendChild(wiersz);
          }
        )

      }

      function wyswietlSzczegolyPacjenta(pacjent) {
        aktualnyPacjent = pacjent;
        const szczegolyImie = document.querySelector("#szczegoly_imie");
        szczegolyImie.value = pacjent.Imie;
        const szczegolyNazwisko = document.querySelector("#szczegoly_nazwisko");
        szczegolyNazwisko.value = pacjent.Nazwisko;
        const szczegolyTelefon = document.querySelector("#szczegoly_telefon");
        szczegolyTelefon.value = pacjent.Tel;
        const sekcjaPacjenci = document.querySelector("#pacjenci");
        sekcjaPacjenci.hidden = true;
        const sekcjaSzczegoly = document.querySelector("#szczegoly");
        sekcjaSzczegoly.hidden = false;
      }

        { "id": "1",
          "Imie": "Wojciech",
          "Nazwisko": "Olejarz",
          "Tel": "121223"},
         {"id": "2",
          "Imie": "Magdalena",
         "Nazwisko": "Goszkowska",
         "Tel": "45093409"},
         {"id": "3",
          "Imie": "Aleksandra",
         "Nazwisko": "Olejarz",
         "Tel": "7054094"},
         {"id": "4",
          "Imie": "Zbigniew",
         "Nazwisko": "Jabłoński",
         "Tel": "09845809"},
         {"id": "5",
          "Imie": "Beata",
         "Nazwisko": "Olejarz",
         "Tel": "094580934"},
      ]
    </script>
  </body>
</html>
